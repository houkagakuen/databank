<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>データベース検索サイト</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .form-container, .results-container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .form-container select, .form-container input {
      margin: 5px 0;
      width: calc(100% - 10px);
      padding: 5px;
    }
    .results-container img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      margin-right: 10px;
      cursor: pointer;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      position: relative;
      max-width: 80%;
      text-align: center;
    }
    .modal-content iframe {
      width: 100%;
      height: 400px;
      border: none;
    }
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #f00;
      color: #fff;
      border: none;
      cursor: pointer;
      padding: 5px 10px;
    }
  </style>
</head>
<body>

<div class="form-container">
  <h1>データベース検索</h1>
  <form id="searchForm">
    <input type="text" placeholder="苗字" name="lastName">
    <input type="text" placeholder="名前" name="firstName">
    <input type="text" placeholder="苗字(カナ)" name="lastNameKana">
    <input type="text" placeholder="名前(カナ)" name="firstNameKana">
    <select name="gender">
      <option value="">性別</option>
      <option value="オス">オス</option>
      <option value="メス">メス</option>
    </select>
    <select name="blood">
      <option value="">血液型</option>
      <option value="A">A</option>
      <option value="B">B</option>
      <option value="O">O</option>
      <option value="AB">AB</option>
    </select>
    <select name="rank">
      <option value="">階級</option>
      <option value="A">A</option>
      <option value="B">B</option>
      <option value="C">C</option>
      <option value="D">D</option>
      <option value="E">E</option>
    </select>
    <input type="text" placeholder="呼称番号" name="callNumber">
    <button type="button" onclick="search()">検索</button>
  </form>
</div>

<div class="results-container" id="results">
  <h2>検索結果</h2>
  <div id="resultList"></div>
</div>

<div class="modal" id="modal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal()">×</button>
    <iframe id="modalFrame" src=""></iframe>
  </div>
</div>

<script>
  const data = [
    {
      img: "https://houkagakuen.github.io/databank/search/204-小泉十和子/IMG_0770.jpeg",
      site: "https://houkagakuen.github.io/databank/search/204-小泉十和子",
      name: "小泉 十和子",
      kana: "コイズミ トワコ",
      gender: "メス",
      blood: "A",
      rank: "E",
      callNumber: "204",
      crime: "売春防止法違反",
    },
    {
      img: "https://houkagakuen.github.io/databank/search/301-小泉凛桜/IMG_0771.jpeg",
      site: "https://houkagakuen.github.io/databank/search/301-小泉凛桜",
      name: "小泉 凛桜",
      kana: "コイズミ リオ",
      gender: "メス",
      blood: "B",
      rank: "A",
      callNumber: "301",
      crime: "窃盗",
    },
  ];

  function search() {
    const resultList = document.getElementById("resultList");
    resultList.innerHTML = "";

    // デモのために全データを表示
    if (data.length > 0) {
      data.forEach((item) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <img src="${item.img}" onclick="openModal('${item.site}')">
          <span>番号：${item.callNumber}</span>
          <span>氏名：${item.name}</span>
          <span>カナ：${item.kana}</span>
          <span>性別：${item.gender}</span>
          <span>血液：${item.blood}</span>
          <span>階級：${item.rank}</span>
          <span>罪名：${item.crime}</span>
        `;
        resultList.appendChild(div);
      });
    } else {
      resultList.innerHTML = "該当する生徒は登録されていません";
    }
  }

  function openModal(site) {
    const modal = document.getElementById("modal");
    const iframe = document.getElementById("modalFrame");
    iframe.src = site;
    modal.style.display = "flex";
  }

  function closeModal() {
    const modal = document.getElementById("modal");
    modal.style.display = "none";
  }
</script>

</body>
</html>
